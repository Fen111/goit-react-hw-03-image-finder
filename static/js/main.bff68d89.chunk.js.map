{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/LoaderContainer/LoaderContainer.module.css","components/Searchbar/Searchbar.module.css","resourses/imagesApi.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/LoaderContainer/LoaderContainer.jsx","components/App/App.jsx","index.js"],"names":["module","exports","BASE_URL","KEY","fetchImage","searchImage","currentPage","a","category","page","url","axios","get","res","data","hits","galleryImg","length","console","log","Searchbar","state","handleImageSearch","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autocomplete","autofocus","placeholder","onChange","Component","ImageGallery","images","onClick","map","image","id","webformatURL","largeImageURL","tags","div","ImageGalleryItem","ImageGalleryItemImage","src","alt","Button","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","Overlay","children","LoaderContainer","loaderContainer","color","height","width","timeout","App","arrImages","showModal","imageAlt","isLoading","fetchImages","imagesApi","then","handleFormSubmit","toogleModal","onClickOpenModal","nodeName","dataset","img","prevProps","prevState","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bff68d89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1_B5O\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__11xGK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__5HMLU\",\"Overlay\":\"Modal_Overlay__Tub88\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1qczA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1VQ80\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1w5hM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"LoaderContainer_loaderContainer__1ulbX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1r3JS\",\"SearchForm\":\"Searchbar_SearchForm__1hu2k\",\"SearchFormButton\":\"Searchbar_SearchFormButton__nGb7N\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3tpHC\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3lnuf\"};","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst KEY = '23914400-19c57926caa45a402450638cc';\r\n\r\nexport default async function fetchImage(searchImage, currentPage) {\r\n  let category = `${searchImage}`;\r\n  let page = currentPage;\r\n  let perPage = 12;\r\n\r\n  let url =\r\n    BASE_URL +\r\n    `?q=${category}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`;\r\n\r\n  const res = await axios.get(url);\r\n  const data = await res.data;\r\n  const galleryImg = await data.hits;\r\n  if (galleryImg.length === 0) {\r\n    console.log('Image not found');\r\n  }\r\n  return galleryImg;\r\n}\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    searchImage: '',\r\n  };\r\n\r\n  handleImageSearch = e => {\r\n    this.setState({ searchImage: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { searchImage } = this.state;\r\n\r\n    if (searchImage.trim() === '') {\r\n      toast.error('Enter your search term');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(searchImage);\r\n    this.setState({ searchImage: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}></span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            value={this.state.searchImage}\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleImageSearch}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from 'components/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, onClick }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => ImageGalleryItem(image, onClick))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object),\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem(\r\n  { id, webformatURL, largeImageURL, tags },\r\n  onClick,\r\n) {\r\n  return (\r\n    <li div className={s.ImageGalleryItem} key={id}>\r\n      <img\r\n        className={s.ImageGalleryItemImage}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-img={largeImageURL}\r\n        onClick={onClick}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import s from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={s.Button} type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Loader from 'react-loader-spinner';\r\n\r\nimport s from './LoaderContainer.module.css';\r\n\r\nexport default function LoaderContainer() {\r\n  return (\r\n    <div className={s.loaderContainer}>\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"red\"\r\n        height={100}\r\n        width={100}\r\n        timeout={1000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport React, { Component } from 'react';\r\nimport imagesApi from 'resourses/imagesApi';\r\nimport s from './App.module.css';\r\n\r\nimport Searchbar from 'components/Searchbar';\r\nimport ImageGallery from 'components/ImageGallery';\r\nimport Button from 'components/Button';\r\nimport Modal from 'components/Modal';\r\nimport LoaderContainer from 'components/LoaderContainer';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    arrImages: [],\r\n    searchImage: null,\r\n    currentPage: 1,\r\n    showModal: false,\r\n    largeImageURL: '',\r\n    imageAlt: '',\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchImage } = this.state;\r\n\r\n    if (prevState.searchImage !== searchImage) this.fetchImages();\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { searchImage, currentPage } = this.state;\r\n    this.setState({ isLoading: true });\r\n    imagesApi(searchImage, currentPage).then(images => {\r\n      if (images.length < 1) {\r\n        toast.error('Image not found');\r\n        return;\r\n      }\r\n      this.setState(({ arrImages, currentPage, isLoading }) => ({\r\n        arrImages: [...arrImages, ...images],\r\n        currentPage: currentPage + 1,\r\n        isLoading: !isLoading,\r\n      }));\r\n    });\r\n  };\r\n\r\n  handleFormSubmit = searchImage => {\r\n    this.setState({\r\n      arrImages: [],\r\n      searchImage,\r\n    });\r\n  };\r\n\r\n  toogleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  onClickOpenModal = e => {\r\n    if (e.target.nodeName !== 'IMG') {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      largeImageURL: e.target.dataset.img,\r\n      showModal: true,\r\n      imageAlt: e.target.alt,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { arrImages, showModal, largeImageURL, tags, isLoading } = this.state;\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ToastContainer\r\n          position=\"top-right\"\r\n          autoClose={5000}\r\n          hideProgressBar={false}\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss\r\n          draggable\r\n          pauseOnHover\r\n        />\r\n\r\n        <ImageGallery images={arrImages} onClick={this.onClickOpenModal} />\r\n        {isLoading && <LoaderContainer />}\r\n        {arrImages.length > 0 && <Button onClick={this.fetchImages} />}\r\n\r\n        {showModal && (\r\n          <Modal onClose={this.toogleModal}>\r\n            <img src={largeImageURL} alt={tags} />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App.jsx';\r\nimport 'modern-normalize';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}